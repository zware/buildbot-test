Fix overflow checks in string, bytearray and unicode. Patch by jan matejek
and Xiang Zhang.
